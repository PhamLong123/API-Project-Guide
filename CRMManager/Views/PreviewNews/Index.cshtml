@model CRMManager.Models.PreviewNewsViewModel
@{
    Layout = null;

}

@if (Model.News.NewsContent != null)
{
    @Html.Raw(Model.News.NewsContent);
}

else
{
    <p>News content not exists</p>
}

@*<link href="~/css/Preview/events_and_promotion.css" rel="stylesheet" />*@

<!--<style>
    .pd-promotion .pd-promotion-content .pd-promotion-card {
        padding: 16px !important;
    }

        .pd-promotion .pd-promotion-content .pd-promotion-card:first-child {
            padding-left: 0px !important;
        }

        .pd-promotion .pd-promotion-content .pd-promotion-card:last-child {
            padding-right: 0px !important;
        }
</style>

<div class="pd-wapper" style="width:80%">
    <div class="pd-content">
        @@if (Model.DetailImageSrc != "")
        {
            <div class="pd-banner" style="display: flex; justify-content: center;">
                <img src="@@Url.Content(Model.DetailImageSrc)"
                     asp-append-version="true"
                     alt="Image promotion detail banner"
                     style=" object-fit:contain; margin: 20px 140px" />
            </div>
        }
        <div class="pd-header" style="text-align:center;margin-top:16px">
            <div class="pd-header-thumbimage">
                <img src="@@Url.Content(Model.ThumbImageSrc)" style="max-width: 100%; height: 120px; " />
            </div>
            <div class="pd-header-title" style="font-size: 28px; font-family: var(--font-family-primary) ">
                <p style="font-family: 'SVN-Gotham'; font-style: normal; font-weight: 450; font-size: 28px; line-height: 40px; text-align: center; color: #272624;">@Model.News.Subject</p>
            </div>
            <div class="pd-header-date">
                <p style="font-family: 'Noto Sans'; font-style: normal; font-weight: 500; font-size: 16px; line-height: 28px;  color: #615F5C;">-->
@*@Html.Raw(WebApp.Services.PageService.GetStringDate(Model.FromDate, Model.ToDate))*@
<!--</p>
    </div>
</div>
<div class="pd-main">-->
@*@Html.Raw(new System.Net.WebClient().DownloadString(Model.NewsLink))*@
<!--@@Html.Raw(Model.News.NewsContent)
</div>
<div class="pd-footer" style=" text-align: center; margin: 43px;">
    <div class="pd-footer-thumbimage">
        <p style="font-family: 'SVN-Gotham'; font-style: normal; font-weight: 450; font-size: 20px; line-height: 40px;">-->
@*@language.Getkey("joinAt")*@
<!--Tham gia tại </p>
            </div>
            <div class="pd-footer-title" style="display: flex; text-align: center; align-items: center; justify-content: center; align-content: center; color: #CF944F; margin: 20px 0 23px;">
                <p>@@Model.OutletName</p>
                <span> | </span>
                <p>@@Model.OpenTime - @@Model.CloseTime</p>
                <span> | </span>
                <p>@@Model.Address</p>
            </div>
            <div class="pd-footer-link" style=" display: flex; justify-content: center;">
                <div style="margin-right: 43px; display: flex; flex-direction: row; flex-wrap: nowrap; align-content: center; justify-content: center; align-items: center;">
                    <img src="~/imgs/icon-link.svg" style="max-width:100%;  margin-right:14px" />
                    <a href="@@Model.Website" target="_blank" style="text-decoration:none;font-family: 'Noto Sans'; font-style: normal; font-weight: 400; font-size: 16px; line-height: 25px;  color: #615F5C; ">@Model.Website</a>
                </div>
                <div style=" display: flex; flex-direction: row; flex-wrap: nowrap; align-content: center; justify-content: center; align-items: center;">
                    <img src="~/imgs/phone-icon.svg" style="max-width: 100%;  margin-right: 14px " />
                    <p style="font-family: 'Noto Sans'; font-style: normal; font-weight: 400; font-size: 16px; line-height: 25px;  color: #615F5C;">@Model.Tel</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let baseSize = 100;
    let unitNumber = 16;
    let spaceItem = 32
    function setSize() {
        let unitSize = Math.floor(($(".anochor-news")[0].clientWidth - (spaceItem * 3)) / unitNumber);
        $(".news-box").each(function (index) {
            let unitWidth = parseInt(parseFloat(this.style.width.replace("px", "")) / baseSize);
            let unitHeight = parseInt(parseFloat(this.style.height.replace("px", "")) / baseSize);
            this.style.width = (unitWidth * unitSize + 2) + "px";
            this.style.height = (unitHeight * unitSize + 2) + "px";
            this.id = "news-box-" + index + "_" + unitWidth + 'x' + unitHeight;
            $(this).removeClass("news-box");
            $(this).addClass("news-box-change");

        });
    };
    function changeSize() {
        let unitSize = Math.floor(($(".anochor-news")[0].clientWidth - (spaceItem * 3)) / unitNumber);
        $(".news-box-change").each(function (index) {
            let ids = this.id.split('_');
            let unitNo = ids[ids.length - 1].split('x');
            let unitWidth = parseInt(unitNo[0]);
            let unitHeight = parseInt(unitNo[1]);
            this.style.width = (unitWidth * unitSize + 2) + "px";
            this.style.height = (unitHeight * unitSize + 2) + "px";
        });

    }
    setSize();
    $(document).ready(function () {
        $(window).resize(function () {
            changeSize();
        });
    });
</script>-->
